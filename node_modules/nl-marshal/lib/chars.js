"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const ISerializer_1 = __importDefault(require("./ISerializer"));
const varuint_1 = __importDefault(require("./varuint"));
class CharsSerializer extends ISerializer_1.default {
    toJSON(value) { return value; }
    fromJSON(value) { return value; }
    toBuffer(value) { return Buffer.concat([varuint_1.default.toBuffer(value.length), Buffer.from(value)]); }
    readFromBuffer(buffer, offset = 0) {
        const { res: lengthBN, newOffset: contentOffset } = varuint_1.default.readFromBuffer(buffer, offset);
        const length = lengthBN.toNumber();
        const newOffset = contentOffset + length;
        return { res: buffer.slice(contentOffset, newOffset).toString(), newOffset };
    }
}
exports.CharsSerializer = CharsSerializer;
const chars = new CharsSerializer();
exports.default = chars;
